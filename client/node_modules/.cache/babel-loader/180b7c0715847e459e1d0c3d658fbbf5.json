{"ast":null,"code":"import _regeneratorRuntime from\"/home/mak/complex/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mak/complex/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/mak/complex/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mak/complex/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/mak/complex/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/mak/complex/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Fib=/*#__PURE__*/function(_Component){_inherits(Fib,_Component);var _super=_createSuper(Fib);function Fib(){var _this;_classCallCheck(this,Fib);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={seenIndexes:[],values:{},index:''};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return axios.post('/api/values',{index:_this.state.index});case 3:_this.setState({index:''});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(Fib,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchValues();this.fetchIndexes();}},{key:\"fetchValues\",value:function(){var _fetchValues=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var values;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/api/values/current');case 2:values=_context2.sent;this.setState({values:values.data});case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function fetchValues(){return _fetchValues.apply(this,arguments);}return fetchValues;}()},{key:\"fetchIndexes\",value:function(){var _fetchIndexes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var seenIndexes;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get('/api/values/all');case 2:seenIndexes=_context3.sent;this.setState({seenIndexes:seenIndexes.data});case 4:case\"end\":return _context3.stop();}}},_callee3,this);}));function fetchIndexes(){return _fetchIndexes.apply(this,arguments);}return fetchIndexes;}()},{key:\"renderSeenIndex\",value:function renderSeenIndex(){return this.state.seenIndexes.map(function(_ref2){var number=_ref2.number;return number;}).join(', ');}},{key:\"renderValues\",value:function renderValues(){var entries=[];for(var key in this.state.values){entries.push(/*#__PURE__*/_jsxs(\"div\",{children:[\"For index \",key,\" I calculated \",this.state.values[key]]},key));}return entries;}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Enter your index\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.index,onChange:function onChange(event){return _this2.setState({index:event.target.value});}}),/*#__PURE__*/_jsx(\"button\",{children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Indexes I have seen:\"}),this.renderSeenIndex(),/*#__PURE__*/_jsx(\"h3\",{children:\"Calculated values:\"}),this.renderValues()]});}}]);return Fib;}(Component);export default Fib;","map":{"version":3,"sources":["/home/mak/complex/client/src/Fib.js"],"names":["React","Component","axios","Fib","state","seenIndexes","values","index","handleSubmit","event","preventDefault","post","setState","fetchValues","fetchIndexes","get","data","map","number","join","entries","key","push","target","value","renderSeenIndex","renderValues"],"mappings":"+mBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEMC,CAAAA,G,+SACFC,K,CAAQ,CACJC,WAAW,CAAE,EADT,CAEJC,MAAM,CAAE,EAFJ,CAGJC,KAAK,CAAE,EAHH,C,OAuBRC,Y,0FAAe,iBAAOC,KAAP,kHACXA,KAAK,CAACC,cAAN,GADW,sBAGLR,CAAAA,KAAK,CAACS,IAAN,CAAW,aAAX,CAA0B,CAC5BJ,KAAK,CAAE,MAAKH,KAAL,CAAWG,KADU,CAA1B,CAHK,QAMX,MAAKK,QAAL,CAAc,CAAEL,KAAK,CAAE,EAAT,CAAd,EANW,sD,8HAjBf,4BAAoB,CAChB,KAAKM,WAAL,GACA,KAAKC,YAAL,GACH,C,+GAED,0KACyBZ,CAAAA,KAAK,CAACa,GAAN,CAAU,qBAAV,CADzB,QACUT,MADV,gBAEI,KAAKM,QAAL,CAAc,CAAEN,MAAM,CAAEA,MAAM,CAACU,IAAjB,CAAd,EAFJ,6D,4MAKA,+KAC8Bd,CAAAA,KAAK,CAACa,GAAN,CAAU,iBAAV,CAD9B,QACUV,WADV,gBAEI,KAAKO,QAAL,CAAc,CACVP,WAAW,CAAEA,WAAW,CAACW,IADf,CAAd,EAFJ,6D,6HAgBA,0BAAkB,CACd,MAAO,MAAKZ,KAAL,CAAWC,WAAX,CAAuBY,GAAvB,CAA2B,mBAAGC,CAAAA,MAAH,OAAGA,MAAH,OAAgBA,CAAAA,MAAhB,EAA3B,EAAmDC,IAAnD,CAAwD,IAAxD,CAAP,CACH,C,4BAED,uBAAe,CACX,GAAMC,CAAAA,OAAO,CAAG,EAAhB,CACA,IAAI,GAAIC,CAAAA,GAAR,GAAe,MAAKjB,KAAL,CAAWE,MAA1B,CACA,CACIc,OAAO,CAACE,IAAR,cACI,oCACeD,GADf,kBACkC,KAAKjB,KAAL,CAAWE,MAAX,CAAkBe,GAAlB,CADlC,GAAUA,GAAV,CADJ,EAKH,CACD,MAAOD,CAAAA,OAAP,CACH,C,sBAED,iBAAS,iBACL,mBACI,oCACI,cAAM,QAAQ,CAAE,KAAKZ,YAArB,wBACI,2CADJ,cAEI,cACA,KAAK,CAAI,KAAKJ,KAAL,CAAWG,KADpB,CAEA,QAAQ,CAAE,kBAAAE,KAAK,QAAI,CAAA,MAAI,CAACG,QAAL,CAAc,CAAEL,KAAK,CAAEE,KAAK,CAACc,MAAN,CAAaC,KAAtB,CAAd,CAAJ,EAFf,EAFJ,cAMI,kCANJ,GADJ,cAUI,4CAVJ,CAWK,KAAKC,eAAL,EAXL,cAYI,0CAZJ,CAaK,KAAKC,YAAL,EAbL,GADJ,CAiBH,C,iBApEazB,S,EAuElB,cAAeE,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass Fib extends Component {\n    state = {\n        seenIndexes: [],\n        values: {},\n        index: ''\n    };\n\n    componentDidMount() {\n        this.fetchValues();\n        this.fetchIndexes();\n    }\n\n    async fetchValues () {\n        const values = await axios.get('/api/values/current');\n        this.setState({ values: values.data });\n    }\n\n    async fetchIndexes () {\n        const seenIndexes = await axios.get('/api/values/all');\n        this.setState({ \n            seenIndexes: seenIndexes.data \n        });\n    }\n\n    handleSubmit = async (event) => {\n        event.preventDefault();\n\n        await axios.post('/api/values', {\n            index: this.state.index\n        });\n        this.setState({ index: '' });\n    };\n\n    renderSeenIndex() {\n        return this.state.seenIndexes.map(({ number }) => number).join(', ');\n    };\n\n    renderValues() {\n        const entries = [];\n        for(let key in this.state.values)\n        {\n            entries.push(\n                <div key={key}>\n                    For index {key} I calculated {this.state.values[key]}\n                </div>\n            );\n        }\n        return entries;\n    };\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={this.handleSubmit}>\n                    <label>Enter your index</label>\n                    <input \n                    value = {this.state.index}\n                    onChange={event => this.setState({ index: event.target.value})}\n                    />\n                    <button>Submit</button>\n                </form>\n\n                <h3>Indexes I have seen:</h3>\n                {this.renderSeenIndex()}\n                <h3>Calculated values:</h3>\n                {this.renderValues()}\n            </div>\n        );\n    }\n}\n\nexport default Fib;"]},"metadata":{},"sourceType":"module"}